<html>

<head>
    <title>Yellow Duck Framework 2.0 beta 3 - FirstSample</title>
    <link rel="stylesheet" type="text/css" href="ydf2.css" />
</head>

<body>

    <div class="header">
        <a href="http://www.redcarpethost.com/" target="_blank"><img src="../../YDFramework2/images/sponsored_by_rch.gif"
         align="right" border="0" alt="Proudly sponsered by Red Carpet Host" width="170" height="69" /></a>
        <h2>Yellow Duck Framework 2.0</h2>
    </div>

    <div class="page">
<h3> First sample </h3>
<br />
<a href="Documentation.html">Documentation table of contents</a><br />
<br />
In the object oriented nature of the Yellow Duck Framework, each script that gets executed is based on a common class, which is the YDRequest class. This class is smart enough to figure out which functions needs to be called using parameters given in the url and also supports some advanced functions such as authentication handling.<br />
<br />
Let's take a look at an example script (named sample1.php) to understand how this works:<br />
<br />
<div class="code"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br /></font><font color="#007700">require_once( </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">__FILE__ </font><font color="#007700">) . </font><font color="#DD0000">'/YDFramework2/YDF2_init.php' </font><font color="#007700">);<br />require_once( </font><font color="#DD0000">'YDRequest.php' </font><font color="#007700">);<br /><br />class </font><font color="#0000BB">sample1 </font><font color="#007700">extends </font><font color="#0000BB">YDRequest </font><font color="#007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">sample1</font><font color="#007700">() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">YDRequest</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">actionDefault</font><font color="#007700">() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'title'</font><font color="#007700">, </font><font color="#DD0000">'sample1Request::actionDefault' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">outputTemplate</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">actionEdit</font><font color="#007700">() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'title'</font><font color="#007700">, </font><font color="#DD0000">'sample1Request::actionEdit' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">outputTemplate</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />}<br /><br />require_once( </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">__FILE__ </font><font color="#007700">) . </font><font color="#DD0000">'/YDFramework2/YDF2_process.php' </font><font color="#007700">);<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></div><br />
<br />
The template file that goes along with this script looks as follows (sample1.tpl):<br />
<br />
<div class="code"><xmp><html>

<head>
	<title>{$title}</title>
</head>

<body>
	{$title}
</body>

</html></xmp></div><br />
When you request this script in your web browser, a number of things happen. Everything that happens is done automatically by the workflow itself and doesn't require any manual intervention from your part. In a future chapter, you will see that this is not the only way of working with the Yellow Duck Framework. Every single part of the Yellow Duck Framework can<br />
be changed to work exactly the way you want it to work.<br />
<br />
In the Yellow Duck Framework, all requests are always processed in the same way and order. Let's evaluate the sample above step by step to explain how the processing is happening.<br />
<br />
The first line you see in the sample1.php script is the include of the file called "YDF2_init.php". This file is responsible for setting up the Yellow Duck Framework, and does things such as:<br />
<br />
<ul><li> Defining a number of constants with e.g. the path to specific directories and URLs
</li><li> Starts or restores the previous session
</li><li> Reconfigures the PHP include path
</li><li> Includes the different files from the rest of the framework</li></ul>
<br />
After that, we define a new class, called "sample1Request" which is based on the YDRequest class. For each script, you need to have 1class which is named as the basename of the file (sample1in this case). This class should have the YDRequest class as one of it ancestors.<br />
<br />
Since we are inheriting from the YDRequest class, we initialize the parent class in the class constructor of the "sample1" class.<br />
<br />
Then we see two functions that start with the text "action". All functions that implement actions start with "action". We will see later on how you can choose which one gets executed.<br />
<br />
The last part of the script is the include of the "YDF2_process.php" script, which processes the actual request. It will look for a request class based on the name of the file, and will execute the process function of that class. This is where the magic happens.<br />
<br />
The process function checks the URL to see if there was a parameter defined with the name "do". This parameter can indicate the action that needs to be executed. If the url looked as <a href="http://localhost/sample1.php?do=edit">http://localhost/sample1.php?do=edit</a>, the function called "actionEdit" will be executed.<br />
<br />
If no action is specified in the url, the default action, called "actionDefault" will be executed. In both actions, the functions in this script don't do a lot. They will set a template variable called "title" and they will output the template to the browser. The template contains special tags that are filled in on the fly with the right contents.<br />
<br />
<a href="Documentation.html">Documentation table of contents</a></div>




    <div class="copyright">
        (c) Copyright 2003-2004 by <a href="mailto:pieter@yellowduck.be">Pieter Claerhout</a>. All rights reserved.
    </div>

</body>

</html>