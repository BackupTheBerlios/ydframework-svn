<html>

<head>
    <title>Yellow Duck Framework 2.0 beta 4 - YDTemplateBackground</title>
    <link rel="stylesheet" type="text/css" href="ydf2.css" />
</head>

<body>

    <div class="header">
        <a href="http://www.redcarpethost.com/index.php?c=9&s=30" target="_blank"><img src="../../YDFramework2/images/sponsored_by_rch.gif"
         align="right" border="0" alt="Proudly sponsered by Red Carpet Host" width="170" height="69" /></a>
        <h2>Yellow Duck Framework 2.0</h2>
    </div>

    <div class="page">
<h3> Background information on the template engine in the Yellow Duck Framework </h3>
<br />
After following the recents threads in the Smarty template engine, I took the time to wrap up some of my remarks.<br />
<br />
The discussion thread that got me started to think about was the following:<br />
<a href="http://news.php.net/php.smarty.general/11566">http://news.php.net/php.smarty.general/11566</a><br />
<br />
<br />
<h4> The difference between templating engines </h4>
<br />
If you browse around on the internet, you will see that there are different types of template engines designed for PHP (and other languages). Each of them has it's own strong and weak points. Most of the template engines design their own syntax and force the user to use this syntax. Per se, this is not a bad thing and can actually be a good thing. Depending on the inner workings of the template engine, it's either a compiling or a non compiling template engine.<br />
<br />
Non compiling template engines have to parse and execute the template on each request. Depending on the complexity of the syntax, this can be a nightmare in terms of performance. Most of these templating engines will keep the syntax very simple and the functionality very limited to allow the engine to parse the templates in a reasonable amount of time.<br />
<br />
Compiling template engines work in a different way. Compiling template engines keep a copy of the parsed template and re-uses these parsed templates. This removes the overhead of having to reparse the templates on every request. Most of the compiling template engines convert the templates to a PHP script after parsing, and execute this. This adds a performance increase, but this way of working can be a little more difficult as you can need to manage the temporary files.<br />
<br />
Let's have a look at the different stages the Yellow Duck Framework went through to get to it's current state.<br />
<br />
<br />
<h4> First try: Smarty </h4>
<br />
When I initially designed, I selected <a href="http://smarty.php.net/">Smarty</a> as the template engine. In the first release of the Yellow Duck Framework, version 1.0, we used Smarty already with great success but sometimes, performance was not as good as we wanted to have it. Smarty gave us a very comfortable syntax for creating templates and allowed us to very easily create even the most difficult templates.<br />
<br />
<br />
<h4> Second try: phpSavant </h4>
<br />
After initial testing with Yellow Duck Framework 2.0, I came accross <a href="http://phpsavant.com">phpSavant</a> which is a very light template engine that uses PHP as it's template language. The big advantage was performance. Since the templates were pure PHP scripts, the performance was way better than Smarty.<br />
<br />
<br />
<h4> Third try: our own template engine </h4>
<br />
After a little while, I started to realize that even phpSavant had too much overhead. There were all kinds of features in phpSavant I did not need at all. I started looking around for options, and quickly came accross the following very easy template mechanism, which uses the same native PHP templates as phpSavant, but only needs 10 lines of code to implement:<br />
<br />
<div class="code"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">class </font><font color="#0000BB">Template </font><font color="#007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var </font><font color="#0000BB">$vars</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">Template</font><font color="#007700">( </font><font color="#0000BB">$file </font><font color="#007700">= </font><font color="#0000BB">null </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">file </font><font color="#007700">= </font><font color="#0000BB">$file</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">set</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$value </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">vars</font><font color="#007700">[ </font><font color="#0000BB">$name </font><font color="#007700">] = </font><font color="#0000BB">$value</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function </font><font color="#0000BB">fetch</font><font color="#007700">( </font><font color="#0000BB">$file </font><font color="#007700">= </font><font color="#0000BB">null </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( ! </font><font color="#0000BB">$file </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$file </font><font color="#007700">= </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">file<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">};<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">extract</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">vars </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">ob_start</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include( </font><font color="#0000BB">$file </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$contents </font><font color="#007700">= </font><font color="#0000BB">ob_get_contents</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">ob_end_clean</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">$contents</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></div><br />
This template class had a number of advantages over phpSavant and Smarty. Performance wise, there is not much better you can get. If you want, you can very easily extend this class to make templates cacheable, which makes the whole process even faster (although, since this is native PHP, it doesn't matter that much). On top of that, this template class is an excellent example of simplicity. This is probably the most simple template class you will ever find.<br />
<br />
After a while, I started to realize that this had some drawbacks as well, rather big ones actually.<br />
<br />
<ul><li> The template syntax is plain ugly. Especially when you start mixing variables in HTML tag attributes and so on, it can quickly get very complicated and very hard to read the template.
</li><li> In order to save typing, you should allow the short open tag in PHP which exposes again a whole bunch of different problems which you rather would like to avoid.</li></ul>
<br />
At this moment, I had to make a quite difficult discission.<br />
<br />
<br />
<h4> Fourth try: Smarty </h4>
<br />
After trying the different other template engines, I came back to my first choice, which is smarty. The big advantages of Smarty are again it's syntax. Switching back to Smarty definitely made the templates much more readable again. I also learned in the meantime that the performance problem can be improved by using cache.<br />
<br />
Caching dynamic contents is and will never be an easy thing to do and there are a lot of things you have to keep in mind before using cache. After reading an excellent book on PHP, <a href="http://www.amazon.com/exec/obidos/tg/detail/-/0672325616/104-5710426-5590364?v=glance">Advanced PHP Programming</a>, I also realised that the performance of the template engine is one thing you should keep in mind, but additionally, database queries and connections are the biggest bottleneck in most web applications. You can easily do the test. Time the amount of time it takes to do all the database queries and compare it to the amount of time it takes to execute the templates. You will be surprised.<br />
<br />
However, I'm still not entirely happy with Smarty yet. Since the class files from Smarty are actually the biggest ones in the Yellow Duck Framework, they take their time to load and be parsed.<br />
<br />
<br />
<h4> Fifth try? </h4>
<br />
After following the discussion on the Smarty mailing list, called <a href="http://news.php.net/php.smarty.general/11566">Smarty Light</a>, Paul Lockaby posted a fork of Smarty, called <a href="http://sourceforge.net/projects/smarty-light">Smarty Light</a>. Smarty Light is basically a rewrite of Smarty from the ground up, removing some of the more advanced features. Here's the list of things that Paul removed:<br />
<br />
<ul><li> pre/post/output filters
</li><li> include_php and php tag, smarty-light only processes php directives in if-then statements and nowhere else
</li><li> section tag (Paul uses foreach for all his section needs)
</li><li> security features
</li><li> error handling, doesn't die very gracefully
</li><li> no support for objects or classes
</li><li> no support for template resources, templates must come from a file</li></ul>
<br />
If you <a href="http://sourceforge.net/project/showfiles.php?group_id=85421&package_id=88390">download</a> this template class, the first thing you will notice is it's filesize. Here's what I have:<br />
<br />
<div class="code"><code><font color="#000000">
07/15/2004&nbsp;&nbsp;20:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.<br />07/15/2004&nbsp;&nbsp;20:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;..<br />07/14/2004&nbsp;&nbsp;19:54&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;27,364 class.compiler.php<br />02/01/2004&nbsp;&nbsp;00:59&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4,530 class.config.php<br />07/14/2004&nbsp;&nbsp;19:35&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;14,093 class.template.php<br />07/15/2004&nbsp;&nbsp;20:03&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;DIR&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;plugins</font>
</code></div><br />
<br />
The complete source files, including the compiler and all the plugins, which are loaded on demand, is approximately 60 KB. This is even less than the Smarty class itself without the compiler and plugins. The complete install of Smarty with all the source classes is around 300 KB.<br />
<br />
After doing some initial testing, the Smarty Light templates are quite a bit faster, and without caching, you can really notice this.<br />
<br />
I also went through the different examples, and verified what would be needed to use Smarty Light instead of Smarty. Here's a list of things that would need to change:<br />
<br />
<ul><li> We will have to use different delimiters. The [ and ] we use up till now are reserved and cannot be used in Smarty Light. Using { and } like the standard Smarty delimiters can fix this.
</li><li> Objects are not allowed in the templates, so we will need to change the YDBrowserInfo example (which was not really a good example anyway).
</li><li> Using associative arrays is different due to a different syntax: <tt>$form.name.html</tt> now becomes <tt>$form[name][html]</tt>.</li></ul>
<br />
I only did a very brief bit of testing, but I will definitely do more testing later on.<br />
<br />
One nice thing about Smarty Light is that the filenames of the compiled template files are much shorter. No longer a very long and cryptic name, but a straightforward md5 checksum. Also caching is implemented in a very easy way. Since the base classes are so small, we don't have to worry about big include files for just checking the cache status of a file. You can read more about the caching options of Smarty Light <a href="http://www.paullockaby.com/projects/smarty-light/docs/appendix.caching.html">here</a>.<br />
<br />
Here's the source code of the YDTemplate class using the Smarty Light class:<br />
<br />
<div class="code"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Yellow Duck Framework version 2.0<br />&nbsp;&nbsp;&nbsp;&nbsp;// (c) copyright 2004 Pieter Claerhout, pieter@yellowduck.be<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if ( ! </font><font color="#0000BB">defined</font><font color="#007700">( </font><font color="#DD0000">'YD_FW_NAME' </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;die( </font><font color="#DD0000">'Yellow Duck Framework is not loaded.' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This class implements an template object. Unless changed manually, the template engine will look in the same<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;directory as your script to find the template. The templates all share the same file extension, which is '.tpl'.<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;By using the setTemplateDir function, you can change this and indicate which directory needs to be looked in for<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;finding the template files.<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">class </font><font color="#0000BB">YDTemplate </font><font color="#007700">extends </font><font color="#0000BB">YDBase </font><font color="#007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This is the class constructor for the YDTemplate class. It does not take any arguments and is smart enough<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;to configure itself. By default, it looks in the same directory as the current script to find the templates.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate</font><font color="#007700">() {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Initialize YDBase<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">YDBase</font><font color="#007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// The template directory<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">= </font><font color="#0000BB">YD_SELF_DIR</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Keep a list of the variables<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_vars </font><font color="#007700">= array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Keep track of custom modifiers<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_modifiers </font><font color="#007700">= array();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_functions </font><font color="#007700">= array();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This function adds a variable to the template and gives it the specified name.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $name&nbsp;&nbsp;&nbsp;&nbsp;Name you want to use for this variable for referencing it in the template.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $value&nbsp;&nbsp;&nbsp;&nbsp;The value of the variable you want to add.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$value </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_vars</font><font color="#007700">[ </font><font color="#0000BB">$name </font><font color="#007700">] = </font><font color="#0000BB">$value</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;Set te template directory.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $dir&nbsp;&nbsp;&nbsp;&nbsp;The directory to look in for finding template files.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">setTemplateDir</font><font color="#007700">( </font><font color="#0000BB">$dir </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">= </font><font color="#0000BB">realpath</font><font color="#007700">( </font><font color="#0000BB">$dir </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This function registers a new modifier with the specified name pointing to the specified function.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the modifier.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $function&nbsp;&nbsp;&nbsp;&nbsp;Function implementing the modifier.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">registerModifier</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$function </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_modifiers</font><font color="#007700">[ </font><font color="#0000BB">$name </font><font color="#007700">] = </font><font color="#0000BB">$function</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This function registers a new function with the specified name pointing to the specified function.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Name of the function.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $function&nbsp;&nbsp;&nbsp;&nbsp;Function implementing the function.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">registerFunction</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$function </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_functions</font><font color="#007700">[ </font><font color="#0000BB">$name </font><font color="#007700">] = </font><font color="#0000BB">$function</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;This function will parse the template and will return the parsed contents. The name of the template you need<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;to specify is the basename of the template without the file extension. This function automatically adds some<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;variables to the template, which you can use as well in the template: YD_FW_NAME, YD_FW_VERSION, <br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;YD_FW_NAMEVERS, YD_FW_HOMEPAGE, YD_SELF_SCRIPT, YD_SELF_URI, YD_ACTION_PARAM.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@param $name&nbsp;&nbsp;&nbsp;&nbsp;The name of the template you want to parse and output.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@returns&nbsp;&nbsp;&nbsp;&nbsp;This function returns the output of the parsed template.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@todo<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;We should add options here to cache the output.<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">getOutput</font><font color="#007700">( </font><font color="#0000BB">$name </font><font color="#007700">) {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Add some default variables<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_FW_NAME'</font><font color="#007700">, </font><font color="#0000BB">YD_FW_NAME </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_FW_VERSION'</font><font color="#007700">, </font><font color="#0000BB">YD_FW_VERSION </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_FW_NAMEVERS'</font><font color="#007700">, </font><font color="#0000BB">YD_FW_NAMEVERS </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_FW_HOMEPAGE'</font><font color="#007700">, </font><font color="#0000BB">YD_FW_HOMEPAGE </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_SELF_SCRIPT'</font><font color="#007700">, </font><font color="#0000BB">YD_SELF_SCRIPT </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_SELF_URI'</font><font color="#007700">, </font><font color="#0000BB">YD_SELF_URI </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'YD_ACTION_PARAM'</font><font color="#007700">, </font><font color="#0000BB">YD_ACTION_PARAM </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Get the path to the template<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if ( </font><font color="#0000BB">is_file</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">. </font><font color="#DD0000">'/' </font><font color="#007700">. </font><font color="#0000BB">$name </font><font color="#007700">. </font><font color="#0000BB">YD_TPL_EXT </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tplPath </font><font color="#007700">= </font><font color="#0000BB">realpath</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">. </font><font color="#DD0000">'/' </font><font color="#007700">. </font><font color="#0000BB">$name </font><font color="#007700">. </font><font color="#0000BB">YD_TPL_EXT </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elseif ( </font><font color="#0000BB">is_file</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">. </font><font color="#DD0000">'/' </font><font color="#007700">. </font><font color="#0000BB">$name </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tplPath </font><font color="#007700">= </font><font color="#0000BB">realpath</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_templateDir </font><font color="#007700">. </font><font color="#DD0000">'/' </font><font color="#007700">. </font><font color="#0000BB">$name </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tplPath </font><font color="#007700">= </font><font color="#0000BB">realpath</font><font color="#007700">( </font><font color="#0000BB">$name </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Check if the file exists<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if ( ! </font><font color="#0000BB">is_file</font><font color="#007700">( </font><font color="#0000BB">$tplPath </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">trigger_error</font><font color="#007700">( </font><font color="#DD0000">'Template not found: ' </font><font color="#007700">. </font><font color="#0000BB">$tplPath</font><font color="#007700">, </font><font color="#0000BB">YD_ERROR </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Include the template class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">require_once( </font><font color="#0000BB">YD_DIR_3RDP </font><font color="#007700">. </font><font color="#DD0000">'/class.template/src/class.template.php' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Instantiate our template class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl </font><font color="#007700">= new </font><font color="#0000BB">template</font><font color="#007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Configure the template class<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">template_dir </font><font color="#007700">= </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">$tplPath </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">compile_dir </font><font color="#007700">= </font><font color="#0000BB">YD_DIR_TEMP</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">left_tag </font><font color="#007700">= </font><font color="#DD0000">'{'</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">right_tag </font><font color="#007700">= </font><font color="#DD0000">'}'</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Register the custom modifiers<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'addslashes'</font><font color="#007700">, </font><font color="#DD0000">'addslashes' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'lower'</font><font color="#007700">, </font><font color="#DD0000">'strtolower' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'implode'</font><font color="#007700">, </font><font color="#DD0000">'YDTemplate_modifier_implode' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'fmtfilesize'</font><font color="#007700">, </font><font color="#DD0000">'YDTemplate_modifier_fmtfileize' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'date_format'</font><font color="#007700">, </font><font color="#DD0000">'YDTemplate_modifier_date_format' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#DD0000">'dump'</font><font color="#007700">, </font><font color="#DD0000">'YDTemplate_modifier_dump' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Add the other modifiers<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">foreach ( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_modifiers </font><font color="#007700">as </font><font color="#0000BB">$name</font><font color="#007700">=&gt;</font><font color="#0000BB">$function </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_modifier</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$function </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Add the functions<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">foreach ( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_functions </font><font color="#007700">as </font><font color="#0000BB">$name</font><font color="#007700">=&gt;</font><font color="#0000BB">$function </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">register_function</font><font color="#007700">( </font><font color="#0000BB">$name</font><font color="#007700">, </font><font color="#0000BB">$function </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Assign the variables<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">_vars </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Output the template<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$contents </font><font color="#007700">= </font><font color="#0000BB">$tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">fetch</font><font color="#007700">( </font><font color="#0000BB">basename</font><font color="#007700">( </font><font color="#0000BB">$tplPath </font><font color="#007700">), </font><font color="#0000BB">null</font><font color="#007700">, </font><font color="#0000BB">md5</font><font color="#007700">( </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">$tplPath </font><font color="#007700">) ) );<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Returns the contents<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">return </font><font color="#0000BB">$contents</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@internal<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate_modifier_fmtfileize</font><font color="#007700">( </font><font color="#0000BB">$size </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">YDStringUtil</font><font color="#007700">::</font><font color="#0000BB">formatFileSize</font><font color="#007700">( </font><font color="#0000BB">$size </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@internal<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate_modifier_implode</font><font color="#007700">( </font><font color="#0000BB">$array</font><font color="#007700">, </font><font color="#0000BB">$separator</font><font color="#007700">=</font><font color="#DD0000">', ' </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">implode</font><font color="#007700">( </font><font color="#0000BB">$separator</font><font color="#007700">, </font><font color="#0000BB">$array </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@internal<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate_make_timestamp</font><font color="#007700">( </font><font color="#0000BB">$string </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( empty( </font><font color="#0000BB">$string </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$string </font><font color="#007700">= </font><font color="#DD0000">"now"</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$time </font><font color="#007700">= </font><font color="#0000BB">strtotime</font><font color="#007700">( </font><font color="#0000BB">$string </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( </font><font color="#0000BB">is_numeric</font><font color="#007700">( </font><font color="#0000BB">$time </font><font color="#007700">) &amp;&amp; </font><font color="#0000BB">$time </font><font color="#007700">!= -</font><font color="#0000BB">1 </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">$time</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( </font><font color="#0000BB">preg_match</font><font color="#007700">( </font><font color="#DD0000">'/^\d{14}$/'</font><font color="#007700">, </font><font color="#0000BB">$string </font><font color="#007700">) ) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$time </font><font color="#007700">= </font><font color="#0000BB">mktime</font><font color="#007700">(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">8</font><font color="#007700">, </font><font color="#0000BB">2 </font><font color="#007700">), </font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">10</font><font color="#007700">, </font><font color="#0000BB">2 </font><font color="#007700">), </font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">12</font><font color="#007700">, </font><font color="#0000BB">2 </font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">4</font><font color="#007700">, </font><font color="#0000BB">2 </font><font color="#007700">), </font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">6</font><font color="#007700">, </font><font color="#0000BB">2 </font><font color="#007700">), </font><font color="#0000BB">substr</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">,</font><font color="#0000BB">0 </font><font color="#007700">,</font><font color="#0000BB">4 </font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">$time</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$time </font><font color="#007700">= ( int ) </font><font color="#0000BB">$string</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( </font><font color="#0000BB">$time </font><font color="#007700">&gt; </font><font color="#0000BB">0 </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">$time</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">time</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@internal<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate_modifier_date_format</font><font color="#007700">( </font><font color="#0000BB">$string</font><font color="#007700">, </font><font color="#0000BB">$format</font><font color="#007700">=</font><font color="#DD0000">'%b %e, %Y'</font><font color="#007700">, </font><font color="#0000BB">$default_date</font><font color="#007700">=</font><font color="#0000BB">null </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if( </font><font color="#0000BB">$string </font><font color="#007700">!= </font><font color="#DD0000">'' </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">strftime</font><font color="#007700">( </font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">YDTemplate_make_timestamp</font><font color="#007700">( </font><font color="#0000BB">$string </font><font color="#007700">) );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} elseif ( isset( </font><font color="#0000BB">$default_date </font><font color="#007700">) &amp;&amp; </font><font color="#0000BB">$default_date </font><font color="#007700">!= </font><font color="#DD0000">'' </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return </font><font color="#0000BB">strftime</font><font color="#007700">( </font><font color="#0000BB">$format</font><font color="#007700">, </font><font color="#0000BB">YDTemplate_make_timestamp</font><font color="#007700">( </font><font color="#0000BB">$default_date </font><font color="#007700">) );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} else {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">/**<br />&nbsp;&nbsp;&nbsp;&nbsp; *&nbsp;&nbsp;&nbsp;&nbsp;@internal<br />&nbsp;&nbsp;&nbsp;&nbsp; */<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">YDTemplate_modifier_dump</font><font color="#007700">( </font><font color="#0000BB">$obj </font><font color="#007700">) {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">var_dump</font><font color="#007700">( </font><font color="#0000BB">$obj </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return;<br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></div><br />
<br />
I also did some benchmarks using the Apache ab utility for the samples index page using both Smarty and Smarty Light. These are the results for Smarty:<br />
<br />
<div class="code"><code><font color="#000000">
C:\&gt;ab -c 5 -n 50 "http://localhost/ydf2/examples/index.php"<br />This is ApacheBench, Version 2.0.40-dev &lt;$Revision: 1.121.2.8 $&gt; apache-2.0<br />Copyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/<br />Copyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/<br /><br />Benchmarking localhost (be patient).....done<br /><br /><br />Server Software:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apache/1.3.27<br />Server Hostname:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;localhost<br />Server Port:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80<br /><br />Document Path:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/ydf2/examples/index.php<br />Document Length:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9339 bytes<br /><br />Concurrency Level:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5<br />Time taken for tests:&nbsp;&nbsp;&nbsp;1.531250 seconds<br />Complete requests:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50<br />Failed requests:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br />Write errors:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br />Total transferred:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;488200 bytes<br />HTML transferred:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;466950 bytes<br />Requests per second:&nbsp;&nbsp;&nbsp;&nbsp;32.65 [#/sec] (mean)<br />Time per request:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;153.125 [ms] (mean)<br />Time per request:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;30.625 [ms] (mean, across all concurrent requests)<br />Transfer rate:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;310.86 [Kbytes/sec] received<br /><br />Connection Times (ms)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;mean[+/-sd] median&nbsp;&nbsp;&nbsp;max<br />Connect:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;0.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br />Processing:&nbsp;&nbsp;&nbsp;&nbsp;62&nbsp;&nbsp;146&nbsp;&nbsp;28.4&nbsp;&nbsp;&nbsp;&nbsp;140&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;203<br />Waiting:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46&nbsp;&nbsp;133&nbsp;&nbsp;29.0&nbsp;&nbsp;&nbsp;&nbsp;140&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;187<br />Total:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62&nbsp;&nbsp;146&nbsp;&nbsp;28.4&nbsp;&nbsp;&nbsp;&nbsp;140&nbsp;&nbsp;&nbsp;&nbsp; 203<br /><br />Percentage of the requests served within a certain time (ms)<br />&nbsp;&nbsp;50%&nbsp;&nbsp;&nbsp;&nbsp;140<br />&nbsp;&nbsp;66%&nbsp;&nbsp;&nbsp;&nbsp;156<br />&nbsp;&nbsp;75%&nbsp;&nbsp;&nbsp;&nbsp;156<br />&nbsp;&nbsp;80%&nbsp;&nbsp;&nbsp;&nbsp;171<br />&nbsp;&nbsp;90%&nbsp;&nbsp;&nbsp;&nbsp;187<br />&nbsp;&nbsp;95%&nbsp;&nbsp;&nbsp;&nbsp;187<br />&nbsp;&nbsp;98%&nbsp;&nbsp;&nbsp;&nbsp;203<br />&nbsp;&nbsp;99%&nbsp;&nbsp;&nbsp;&nbsp;203<br /> 100%&nbsp;&nbsp;&nbsp;&nbsp;203 (longest request)</font>
</code></div><br />
The same page using Smarty Light and the Smarty Light syntax gives me the following:<br />
<br />
<div class="code"><code><font color="#000000">
C:\&gt;ab -c 5 -n 50 "http://localhost/ydf2/examples/index.php"<br />This is ApacheBench, Version 2.0.40-dev &lt;$Revision: 1.121.2.8 $&gt; apache-2.0<br />Copyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/<br />Copyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/<br /><br />Benchmarking localhost (be patient).....done<br /><br /><br />Server Software:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apache/1.3.27<br />Server Hostname:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;localhost<br />Server Port:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;80<br /><br />Document Path:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/ydf2/examples/index.php<br />Document Length:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10342 bytes<br /><br />Concurrency Level:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5<br />Time taken for tests:&nbsp;&nbsp;&nbsp;0.937500 seconds<br />Complete requests:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50<br />Failed requests:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br />Write errors:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0<br />Total transferred:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;538350 bytes<br />HTML transferred:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;517100 bytes<br />Requests per second:&nbsp;&nbsp;&nbsp;&nbsp;53.33 [#/sec] (mean)<br />Time per request:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93.750 [ms] (mean)<br />Time per request:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;18.750 [ms] (mean, across all concurrent requests)<br />Transfer rate:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;560.00 [Kbytes/sec] received<br /><br />Connection Times (ms)<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;min&nbsp;&nbsp;mean[+/-sd] median&nbsp;&nbsp;&nbsp;max<br />Connect:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;3.0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;15<br />Processing:&nbsp;&nbsp;&nbsp;&nbsp;62&nbsp;&nbsp;&nbsp;90&nbsp;&nbsp;11.6&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;109<br />Waiting:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;46&nbsp;&nbsp;&nbsp;81&nbsp;&nbsp;12.5&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;78&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;109<br />Total:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;62&nbsp;&nbsp;&nbsp;91&nbsp;&nbsp;11.3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93&nbsp;&nbsp;&nbsp;&nbsp; 109<br /><br />Percentage of the requests served within a certain time (ms)<br />&nbsp;&nbsp;50%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93<br />&nbsp;&nbsp;66%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93<br />&nbsp;&nbsp;75%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93<br />&nbsp;&nbsp;80%&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;93<br />&nbsp;&nbsp;90%&nbsp;&nbsp;&nbsp;&nbsp;109<br />&nbsp;&nbsp;95%&nbsp;&nbsp;&nbsp;&nbsp;109<br />&nbsp;&nbsp;98%&nbsp;&nbsp;&nbsp;&nbsp;109<br />&nbsp;&nbsp;99%&nbsp;&nbsp;&nbsp;&nbsp;109<br /> 100%&nbsp;&nbsp;&nbsp;&nbsp;109 (longest request)</font>
</code></div><br />
So as it looks now, I will probably decide to switch to Smarty Light for the next beta release of the Yellow Duck Framework, unless there are good reasons not to switch. All input is welcome of course.<br />
<br />
<span class="notes"><em><strong>Note:</strong> even if I make the switch, I can leave the old class in so that everybody can still use it. Another option is to remove Smarty completely, but if people need another template engine than the standard one, they can always build on themselves.</em></span></div>




    <div class="copyright">
        (c) Copyright 2003-2004 by <a href="mailto:pieter@yellowduck.be">Pieter Claerhout</a>. All rights reserved.
    </div>

</body>

</html>