<html>

<head>
    <title>Yellow Duck Framework 2.0 beta 4 - YDTemplate</title>
    <link rel="stylesheet" type="text/css" href="ydf2.css" />
</head>

<body>

    <div class="header">
        <a href="http://www.redcarpethost.com/index.php?c=9&s30" target="_blank"><img src="../../YDFramework2/images/sponsored_by_rch.gif"
         align="right" border="0" alt="Proudly sponsered by Red Carpet Host" width="170" height="69" /></a>
        <h2>Yellow Duck Framework 2.0</h2>
    </div>

    <div class="page">
<h3> Using templates </h3>
<br />
<a href="Documentation.html">Documentation table of contents</a><br />
<br />
In this chapter, we will have a closer look at how the template engine in the Yellow Duck Framework is working and how it's implemented. The template engine in the framework is based on <a href="http://sourceforge.net/projects/smarty-light">Smarty Light</a> and follows the same syntax as any normal Smarty Light template file, except that is uses curly brackets as the template delimiters instead of the standard '&lt;% %&gt;' brackets.<br />
<br />
The documentation for the Smarty Light template engine can be found <a href="http://www.paullockaby.com/projects/smarty-light/docs/">here</a>. The API of the YDTemplate class is exactly the same, except for the caching functions. You can think of the YDTemplate class as a preconfigured Smarty Light template class.<br />
<br />
<span class="notes"><em><strong>Note:</strong> if you don't want to use the Smarty Light template engine, you can easily use any other template engine you want. You are not limited to using just the Smarty Light template engine.</em></span><br />
<br />
<br />
<h4> The YDTemplate class </h4>
<br />
For managing templates, there is a specific class class YDTemplate. If you instantiate this class, you can assign variables to it, and then, using these variables, you can output a named template.<br />
<br />
The following code sample gives you a small example on how this works:<br />
<br />
<div class="code"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Include the YDTemplate class<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">require_once( </font><font color="#DD0000">'YDTemplate.php' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// This is the array we are going to use in the template<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$array </font><font color="#007700">= array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'author' </font><font color="#007700">=&gt; </font><font color="#DD0000">'Stephen King'</font><font color="#007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'title' </font><font color="#007700">=&gt; </font><font color="#DD0000">'The Stand'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'author' </font><font color="#007700">=&gt; </font><font color="#DD0000">'Neal Stephenson'</font><font color="#007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'title' </font><font color="#007700">=&gt; </font><font color="#DD0000">'Cryptonomicon'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">),<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'author' </font><font color="#007700">=&gt; </font><font color="#DD0000">'Milton Friedman'</font><font color="#007700">,<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#DD0000">'title' </font><font color="#007700">=&gt; </font><font color="#DD0000">'Free to Choose'<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">)<br />&nbsp;&nbsp;&nbsp;&nbsp;);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Instantiate a template object<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$template </font><font color="#007700">= new </font><font color="#0000BB">YDTemplate</font><font color="#007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Assign the variables<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$template</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'title'</font><font color="#007700">, </font><font color="#DD0000">'This is the title' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$template</font><font color="#007700">-&gt;</font><font color="#0000BB">setVar</font><font color="#007700">( </font><font color="#DD0000">'books'</font><font color="#007700">, </font><font color="#0000BB">$array </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Output the template<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$template</font><font color="#007700">-&gt;</font><font color="#0000BB">display</font><font color="#007700">();<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></div><br />
The template for this code could look as follows:<br />
<br />
<div class="code"><code><font color="#000000">
&lt;html&gt;<br /><br />&lt;head&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&lt;title&gt;{$title}&lt;/title&gt;<br />&lt;/head&gt;<br /><br />&lt;body&gt;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;{if is_array( $books )}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Author&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;th&gt;Title&lt;/th&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{foreach from=$books item=val}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;{$val[author]}&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;td&gt;{$val[title]}&lt;/td&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{/foreach}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;{else}<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;p&gt;There are no books to display.&lt;/p&gt;<br />&nbsp;&nbsp;&nbsp;&nbsp;{/if}<br /><br />&lt;/body&gt;<br /><br />&lt;/html&gt;</font>
</code></div><br />
<br />
As you can see, we assigned two variables to our template instance. Each variable you want to use in the template engine needs to be assigned to the template instance before you can use it. Assigning a variable to a template implies that we link a template variable name to a PHP object. These objects can be anything from an array to a simple string. Assigning objects to a template is <strong>not</strong> supported.<br />
<br />
Once we assigned all the variables, we can issue the "fetch" function of the template class to get the result of the parsed template. This function takes one argument, which is the name of the template. If you want to immediately show the template result, you can use the "display" function instead.<br />
<br />
The name of the template you need to specify for the "fetch" and "display" functions is the basename of the template without the "tpl" extension. In our example, you would need the following files to make the example work:<br />
<br />
<ul><li> <strong>mytemplate.php:</strong> the actual PHP script
</li><li> <strong>mytemplate.tpl:</strong> the template attached to the PHP script</li></ul>
<br />
By convention, all templates have the extension "tpl". This is also hardcoded in the framework itself. Please, stick to this standard.<br />
<br />
<br />
<h4> Template search paths </h4>
<br />
To find templates, the Yellow Duck Framework takes a look at the template_dir class variable. By default, this is set to the same directory of the current PHP script. You can easily change by assigning a new value to the template_dir class variable.<br />
<br />
<span class="notes"><em><strong>Note:</strong> do not change the value of the template_dir class during in the middle of the script, or you might not get the result you expected. Make it a habit of setting up this value when you instantiate the YDTemplate class.</em></span><br />
<br />
<br />
<h4> Standard template variables </h4>
<br />
For each template, there are a number of standard variables available which you can always reference. These variables all start with "YD_" and are all uppercase. Here's the list of the standard variables:<br />
<br />
<ul><li> <strong>YD_FW_NAME:</strong> name of the framework
</li><li> <strong>YD_FW_VERSION:</strong> version of the framework
</li><li> <strong>YD_FW_NAMEVERS:</strong> the combination of the two items above
</li><li> <strong>YD_FW_HOMEPAGE:</strong> the homepage of the Yellow Duck Framework
</li><li> <strong>YD_SELF_SCRIPT:</strong> the current script's path, e.g. "/myapp/index.php" 
</li><li> <strong>YD_SELF_URI:</strong> the URI which was given in order to access this page, e.g. "/myapp/index.php?do=edit"
</li><li> <strong>YD_ACTION_PARAM:</strong> the name of the $_GET parameter that specifies which action needs to be executed. This is "do" by convention.</li></ul>
<br />
Please do not use the "YD_" prefix for your own variables. This prefix is uniquely reserverd for the variables automatically assigned by the Yellow Duck Framework.<br />
<br />
<br />
<h4> Template syntax </h4>
<br />
Since the YDTemplate class is based on the <a href="http://sourceforge.net/projects/smarty-light">Smarty Light</a> template engine, the same functionality and options are provided. There is one major difference though with a standard Smarty Light. The YDTemplate engine uses curly brackets as delimiters, while Smarty normally uses '&lt;%' and '%&gt;'.<br />
<br />
To find more information about the Smarty Light syntax, please take a look at the <a href="http://www.paullockaby.com/projects/smarty-light/docs/">Smarty Light documentation</a>.<br />
<br />
<br />
<h4> Template caching </h4>
<br />
The biggest change in comparison to the original Smarty Light template class and the YDTemplate class is the way the caching functions work. In the YDTemplate class, the caching is controlled by what we call a cache ID. Each item in the cache has a unique ID and this is what is used to check what is cached and what is not. The following sample illustrates this:<br />
<br />
<div class="code"><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Standard include<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">require_once( </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">__FILE__ </font><font color="#007700">) . </font><font color="#DD0000">'/YDFramework2/YDF2_init.php' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Includes<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">require_once( </font><font color="#DD0000">'YDRequest.php' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;require_once( </font><font color="#DD0000">'YDTemplate.php' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;require_once( </font><font color="#DD0000">'YDDatabase.php' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Class definition<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">class </font><font color="#0000BB">tplcache </font><font color="#007700">extends </font><font color="#0000BB">YDRequest </font><font color="#007700">{<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Class constructor<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">tplcache</font><font color="#007700">() {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Initialize the parent<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">YDRequest</font><font color="#007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Initialize the template<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl </font><font color="#007700">= new </font><font color="#0000BB">YDTemplate</font><font color="#007700">();<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Enable caching<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">caching </font><font color="#007700">= </font><font color="#0000BB">true</font><font color="#007700">;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">cache_dir </font><font color="#007700">= </font><font color="#0000BB">YD_DIR_TEMP</font><font color="#007700">;<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Default action<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">actionDefault</font><font color="#007700">() {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Check if the template is cached<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">if ( ! </font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">is_cached</font><font color="#007700">( </font><font color="#0000BB">YD_SELF_SCRIPT </font><font color="#007700">) ) {<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Make some extensive database calls<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$db </font><font color="#007700">= </font><font color="#0000BB">YDDatabase</font><font color="#007700">::</font><font color="#0000BB">getInstance</font><font color="#007700">( </font><font color="#DD0000">'mysql'</font><font color="#007700">, </font><font color="#DD0000">'test'</font><font color="#007700">, </font><font color="#DD0000">'root'</font><font color="#007700">, </font><font color="#DD0000">''</font><font color="#007700">, </font><font color="#DD0000">'localhost' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">connect</font><font color="#007700">();<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#DD0000">'processList'</font><font color="#007700">, </font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">getRecords</font><font color="#007700">( </font><font color="#DD0000">'show processlist' </font><font color="#007700">) );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#DD0000">'status'</font><font color="#007700">, </font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">getRecords</font><font color="#007700">( </font><font color="#DD0000">'show status' </font><font color="#007700">) );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#DD0000">'variables'</font><font color="#007700">, </font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">getRecords</font><font color="#007700">( </font><font color="#DD0000">'show variables' </font><font color="#007700">) );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#DD0000">'version'</font><font color="#007700">, </font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">getServerVersion</font><font color="#007700">() );<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">assign</font><font color="#007700">( </font><font color="#DD0000">'sqlcount'</font><font color="#007700">, </font><font color="#0000BB">$db</font><font color="#007700">-&gt;</font><font color="#0000BB">getSqlCount</font><font color="#007700">() );<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Indicate the template was not cached<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">echo( </font><font color="#DD0000">'not cached' </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Display the template<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">display</font><font color="#007700">( </font><font color="#DD0000">'tplcache.tpl'</font><font color="#007700">, </font><font color="#0000BB">YD_SELF_SCRIPT </font><font color="#007700">);<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Function to clear the action<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">function </font><font color="#0000BB">actionClearCache</font><font color="#007700">() {<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">tpl</font><font color="#007700">-&gt;</font><font color="#0000BB">clear_cached</font><font color="#007700">( </font><font color="#0000BB">YD_SELF_SCRIPT </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000BB">$this</font><font color="#007700">-&gt;</font><font color="#0000BB">redirectToAction</font><font color="#007700">( </font><font color="#DD0000">'default' </font><font color="#007700">);<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;}<br /><br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF8000">// Process the request<br />&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#007700">require_once( </font><font color="#0000BB">dirname</font><font color="#007700">( </font><font color="#0000BB">__FILE__ </font><font color="#007700">) . </font><font color="#DD0000">'/YDFramework2/YDF2_process.php' </font><font color="#007700">);<br /><br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></div><br />
If you want to use caching in your YDTemplate class, you need to setup the caching parameters first. First of all, you need to set the class variable caching to true to indicate that all contents should be cached. When you want to check if a specific item exists in the cache, you can use the is_cached function specifying the cache ID. With the display function, you also need to specify the cache ID. To clear the cache, you can use the clear_cached function.<br />
<br />
<br />
<h4> Escaping JavaScript and CSS items in your template </h4>
<br />
As <span class="missingpage">JavaScript</span><a href="http://www.yellowduck.be/ydf2/wiki/JavaScript/edit">?</a> and CSS use the same delimiters as the template engine, you need to add some special stuff to the template so that the parser doesn't get confused. The easiest is to surround the CSS and the <span class="missingpage">JavaScript</span><a href="http://www.yellowduck.be/ydf2/wiki/JavaScript/edit">?</a> code with the {literal} tag. This will make the template parser ignore the text in between the tags and will avoid that the parser get's confused.<br />
<br />
Here's an example:<br />
<br />
<div class="code"><code><font color="#000000">
{literal}<br />&nbsp;&nbsp;&nbsp;&nbsp;Here is an example: {config_load file="config.conf"}<br />{/literal}</font>
</code></div><br />
This will output the following:<br />
<br />
<div class="code"><code><font color="#000000">
Here is an example: {config_load file="config.conf"}</font>
</code></div><br />
<a href="Documentation.html">Documentation table of contents</a></div>




    <div class="copyright">
        (c) Copyright 2003-2004 by <a href="mailto:pieter@yellowduck.be">Pieter Claerhout</a>. All rights reserved.
    </div>

</body>

</html>