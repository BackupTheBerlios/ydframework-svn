var Class={create:function(){return function(){this.initialize.apply(this,arguments);}}}; Object.extend=function(destination,source){for(property in source){destination[property]=source[property];} return destination;};  Function.prototype.bind=function(object){var __method=this;return function(){return __method.apply(object,arguments);}}; function $(){var elements=new Array();for(var i=0;i<arguments.length;i++){var element=arguments[i];if(typeof element=='string')element=document.getElementById(element);if(arguments.length==1)return element;elements.push(element);} return elements;} document.getElementsByClassName=function(className){var children=document.getElementsByTagName('*')||document.all;var elements=new Array();for(var i=0;i<children.length;i++){var child=children[i];var classNames=child.className.split(' ');for(var j=0;j<classNames.length;j++){if(classNames[j]==className){elements.push(child);break;}}}   return elements;};  if(!window.Element){var Element=new Object();} Object.extend(Element,{remove:function(element){element=$(element);element.parentNode.removeChild(element);},hasClassName:function(element,className){element=$(element);if(!element)return;var a=element.className.split(' ');for(var i=0;i<a.length;i++){if(a[i]==className)return true;} return false;},addClassName:function(element,className){element=$(element);Element.removeClassName(element,className);element.className+=' '+className;},removeClassName:function(element,className){element=$(element);if(!element)return;var newClassName='';var a=element.className.split(' ');for(var i=0;i<a.length;i++){if(a[i]!=className){if(i>0)newClassName+=' ';newClassName+=a[i];}} element.className=newClassName;},cleanWhitespace:function(element){element=$(element);for(var i=0;i<element.childNodes.length;i++){var node=element.childNodes[i];if(node.nodeType==3&&!/\S/.test(node.nodeValue))Element.remove(node);}}}); var fx=new Object();fx.Base=function(){};fx.Base.prototype={setOptions:function(options){this.options={duration:500,onComplete:''}; Object.extend(this.options,options||{});},go:function(){this.duration=this.options.duration;this.startTime=(new Date).getTime();this.timer=setInterval(this.step.bind(this),13);},step:function(){var time=(new Date).getTime();var Tpos=(time-this.startTime)/(this.duration);if(time>=this.duration+this.startTime){this.now=this.to;clearInterval(this.timer);this.timer=null;if(this.options.onComplete)setTimeout(this.options.onComplete.bind(this),10);} else{this.now=((-Math.cos(Tpos*Math.PI)/2)+0.5)*(this.to-this.from)+this.from;} this.increase();},custom:function(from,to){if(this.timer!=null)return;this.from=from;this.to=to;this.go();},hide:function(){this.now=0;this.increase();},clearTimer:function(){clearInterval(this.timer);this.timer=null;}}; fx.Layout=Class.create();fx.Layout.prototype=Object.extend(new fx.Base(),{initialize:function(el,options){this.el=$(el);this.el.style.overflow="hidden";this.el.iniWidth=this.el.offsetWidth;this.el.iniHeight=this.el.offsetHeight;this.setOptions(options);}});fx.Height=Class.create();Object.extend(Object.extend(fx.Height.prototype,fx.Layout.prototype),{increase:function(){this.el.style.height=this.now+"px";},toggle:function(){if(this.el.offsetHeight>0)this.custom(this.el.offsetHeight,0);else this.custom(0,this.el.scrollHeight);}});fx.Width=Class.create();Object.extend(Object.extend(fx.Width.prototype,fx.Layout.prototype),{increase:function(){this.el.style.width=this.now+"px";},toggle:function(){if(this.el.offsetWidth>0)this.custom(this.el.offsetWidth,0);else this.custom(0,this.el.iniWidth);}});fx.Opacity=Class.create();fx.Opacity.prototype=Object.extend(new fx.Base(),{initialize:function(el,options){this.el=$(el);this.now=1;this.increase();this.setOptions(options);},increase:function(){if(this.now==1)this.now=0.9999;if(this.now>0&&this.el.style.visibility=="hidden")this.el.style.visibility="visible";if(this.now==0)this.el.style.visibility="hidden";if(window.ActiveXObject)this.el.style.filter="alpha(opacity="+this.now*100+")";this.el.style.opacity=this.now;},toggle:function(){if(this.now>0)this.custom(1,0);else this.custom(0,1);}}); fx.Text=Class.create();fx.Text.prototype=Object.extend(new fx.Base(),{initialize:function(el,options){this.el=$(el);this.setOptions(options);if(!this.options.unit)this.options.unit="em";},increase:function(){this.el.style.fontSize=this.now+this.options.unit;}});fx.Resize=Class.create();fx.Resize.prototype={initialize:function(el,options){this.h=new fx.Height(el,options);if(options)options.onComplete=null;this.w=new fx.Width(el,options);this.el=$(el);},toggle:function(){this.h.toggle();this.w.toggle();},modify:function(hto,wto){this.h.custom(this.el.offsetHeight,this.el.offsetHeight+hto);this.w.custom(this.el.offsetWidth,this.el.offsetWidth+wto);},custom:function(hto,wto){this.h.custom(this.el.offsetHeight,hto);this.w.custom(this.el.offsetWidth,wto);},hide:function(){this.h.hide();this.w.hide();}}; fx.FadeSize=Class.create();fx.FadeSize.prototype={initialize:function(el,options){this.el=$(el);this.el.o=new fx.Opacity(el,options);if(options)options.onComplete=null;this.el.h=new fx.Height(el,options);this.el.w=new fx.Width(el,options);},toggle:function(){this.el.o.toggle();for(var i=0;i<arguments.length;i++){if(arguments[i]=='height')this.el.h.toggle();if(arguments[i]=='width')this.el.w.toggle();}},hide:function(){this.el.o.hide();for(var i=0;i<arguments.length;i++){if(arguments[i]=='height')this.el.h.hide();if(arguments[i]=='width')this.el.w.hide();}}}; var Multi=new Object();Multi=function(){};Multi.prototype={initialize:function(elements,options){this.options=options;this.el=this.getElementsFromArray(elements);for(i=0;i<this.el.length;i++){this.effect(this.el[i]);}},getElementsFromArray:function(array){var elements=new Array();for(i=0;i<array.length;i++){elements.push($(array[i]));} return elements;}}; fx.MultiFadeSize=Class.create();fx.MultiFadeSize.prototype=Object.extend(new Multi(),{effect:function(el){el.fs=new fx.FadeSize(el,this.options);},showThisHideOpen:function(el,delay,mode){for(i=0;i<this.el.length;i++){if(this.el[i].offsetHeight>0&&this.el[i]!=el&&this.el[i].h.timer==null&&el.h.timer==null){this.el[i].fs.toggle(mode);setTimeout(function(){el.fs.toggle(mode);}.bind(el),delay);}}},hide:function(el,mode){el.fs.hide(mode);}});var Remember=new Object();Remember=function(){};Remember.prototype={initialize:function(el,options){this.el=$(el);this.days=365;this.options=options;this.effect();var cookie=this.readCookie();if(cookie){this.fx.now=cookie;this.fx.increase();}},setCookie:function(value){var date=new Date();date.setTime(date.getTime()+(this.days*24*60*60*1000));var expires="; expires="+date.toGMTString();document.cookie=this.el+this.el.id+this.prefix+"="+value+expires+"; path=/";},readCookie:function(){var nameEQ=this.el+this.el.id+this.prefix+"=";var ca=document.cookie.split(';');for(var i=0;i<ca.length;i++){var c=ca[i];while(c.charAt(0)==' ')c=c.substring(1,c.length);if(c.indexOf(nameEQ)==0)return c.substring(nameEQ.length,c.length);} return false;},custom:function(from,to){if(this.fx.now!=to){this.setCookie(to);this.fx.custom(from,to);}}}; fx.RememberHeight=Class.create();fx.RememberHeight.prototype=Object.extend(new Remember(),{effect:function(){this.fx=new fx.Height(this.el,this.options);this.prefix='height';},toggle:function(){if(this.el.offsetHeight==0)this.setCookie(this.el.scrollHeight);else this.setCookie(0);this.fx.toggle();},resize:function(to){this.setCookie(this.el.offsetHeight+to);this.fx.custom(this.el.offsetHeight,this.el.offsetHeight+to);},hide:function(){if(!this.readCookie()){this.fx.hide();}}});fx.RememberText=Class.create();fx.RememberText.prototype=Object.extend(new Remember(),{effect:function(){this.fx=new fx.Text(this.el,this.options);this.prefix='text';}});ParseClassNames=Class.create();ParseClassNames.prototype={initialize:function(options){var babies=document.getElementsByTagName('*')||document.all;for(var i=0;i<babies.length;i++){var el=babies[i];var effects=this.getEffects(el);for(var j=0;j<effects.length;j++){if(j==1&&options)options.onComplete=null;el[effects[j]+"fx"]=new fx[effects[j]](el,options);} if(el.rel){el.crel=el.rel.split(' ');if(el.crel[0].indexOf("fx_")>-1){var event=el.crel[0].replace('fx_','');var tocompute=this.getEffects($(el.crel[1]));el["on"+event]=function(){for(var f=0;f<tocompute.length;f++){$(this.crel[1])[tocompute[f]+"fx"][this.crel[2]||"toggle"](this.crel[3]||null,this.crel[4]||null);}}}}}},getEffects:function(el){var effects=new Array();var css=el.className.split(' ');for(var i=0;i<css.length;i++){if(css[i].indexOf('fx_')>-1){var effect=css[i].replace('fx_','');effects.push(effect);}} return effects;}} 